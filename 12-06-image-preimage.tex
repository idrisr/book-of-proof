\documentclass{idrisMemo}
\usepackage{bookOfProof}

\memoto{Idris}
\memosubject{Book of Proof}
\memodate{2024.03.24}
\status{\S 12.6 Image / PreImage}
\usepackage[margin=3cm]{geometry}


\begin{document}
\toc
\thispagestyle{styleTOC}
\pagebreak
\pagestyle{styleE}

\begin{prooflist}{1. Consider the function $f: \mathbb{R} \rightarrow \mathbb{R}$ defined as $f(x)=x^2+3$. Find $f([-3,5])$ and $f^{-1}([12,19])$.}
\item \imagedef{}
\item Let $X\subset \mathbb{R}= [-3,5]$. $f(X)$ is a image of the function $f$.
\item Let $Y\subset \mathbb{R}= [12,19]$. $f^{-1}(Y)$ is a preimage of the
    function $f^{-1}$.
Let's determine $f^{-1}$ to calculate the preimage.
\begin{align*}
    f(x) = y =& x^2+3\\
    x=&y^2+3&&\text{swap x and y to get to }f^{-1}\\
    y^2=&x-3\\
    y=&\pm\sqrt{x-3}
\end{align*}
\begin{align*}
    f(X) =& f([-3, 5]) = [12, 28]\\
    f^{-1}(Y) =& f^{-1}([12, 19]) = [-3, -5] \cup [3, 5]
\end{align*}
\end{prooflist}


\begin{prooflist}{2. Consider the function $f:\{1,2,3,4,5,6,7\} \rightarrow\{0,1,2,3,4,5,6,7,8,9\}$ }
\item \imagedef{}
\begin{align*}
f=\set{(1,3),(2,8),(3,3),(4,1),(5,2),(6,4),(7,6)}
\end{align*}
Find:
\begin{align*}
    f(\set{1,2,3})=& \set {3, 8} \\
    f(\set{4,5,6,7}) =& \set{1, 2, 4, 6}\\
    f(\varnothing) =& \set{} \\
    f^{-1}(\set{0,5,9}) =& \set{}\\
    f^{-1}(\set{0,3,5,9}) =& \set{3}\\
\end{align*}
\end{prooflist}

\begin{prooflist}{3. This problem concerns functions $f:\{1,2,3,4,5,6,7\}
    \rightarrow\{0,1,2,3,4\}$. How many such functions have the property that
$\left|f^{-1}(\{3\})\right|=3$ ?}
\item Let $A:\set{1,2,3,4,5,6,7}$
\item Let $B:\set{0,1,2,3,4}$
\item $f:A\rightarrow B$
\item In words, this question is asking how many functions $f$ have a preimage
    such that the input set $\set{3}$ has a cardinality 3.
\item This means that 3 values in the domain of $f$ map to 3 in the codomain.
    For the function $f$, we must map each value in $A$ to some value in $B$, 7
    choices total.  We must pick 3 choices to go to 3, which is counted as
    $\binom{7}{3}$. The remaining 4 values can map to any value but 3, therefore
    $4^4$.
\item Using the multiplication principle, we calculate the cardinality of $f$ as
    $\binom{7}{3}\cdot 4^4$.
\end{prooflist}

\begin{prooflist}{4. This problem concerns functions $f:\{1,2,3,4,5,6,7,8\} \rightarrow\{0,1,2,3,4,5,6\}$. How many such functions have the property that $\left|f^{-1}(\{2\})\right|=4$ ?}
\item Let $A:\set{1,2,3,4,5,6,7, 8}$
\item Let $B:\set{0,1,2,3,4, 5, 6}$
\item $f:A\rightarrow B$
\item In words, this question is asking how many functions $f$ have a preimage
    such that the input set $\set{2}$ has a cardinality 4.
\item This means that 4 values in the domain of $f$ map to 2 in the codomain.
    For the function $f$, we must map each value in $A$ to some value in $B$, 8
    choices total.  We must pick 4 choices to go to 2, which is counted as
    $\binom{8}{4}$. The remaining 4 values can map to any value but 2, therefore
    $4^6$.
\item Using the multiplication principle, we calculate the cardinality of $f$ as
    $\binom{8}{4}\cdot 4^6$.
\end{prooflist}

\begin{prooflist}{5. Consider a function $f: A \rightarrow B$ and a subset $X
    \subseteq A$. We observed in Example 12.14 that $f^{-1}(f(X)) \neq X$ in
general. However $X \subseteq f^{-1}(f(X))$ is always true. Prove this.}
\item \imagedef{}
\item Let $x$ be in $X$. Then $f(x) \in f(X)$. By definition $f^{-1}(f(x))$ is in
    $X$. Therefore we have shown that if $x\in X$, then $x\in f^{-1}(f(X))$.
\item Thus we have shown that $X \subseteq f^{-1}(f(X))$
\end{prooflist}

\begin{prooflist}{6. Given a function $f: A \rightarrow B$ and a subset $Y
    \subseteq B$, is $f\left(f^{-1}(Y)\right)=Y$ always true? Prove or give a
counterexample.}
\item \imagedef{}
\item In general $f\left(f^{-1}(Y)\right)=Y$ is not true. For any function $f$
    which is not bijective, the statement will be false. Let us now construct
    such a non-bijective function as a counterexample.
\item Let $A=\set{1, 2, 3}$.
\item Let $B=\set{a, b, c}$.
\item Let $Y\subseteq B = \set{c}$.
\item Let $f: A \rightarrow B$.
\item Let $f = \set{(1, a), (2, a), (3, b)}$.
\begin{align*}
    f\left(f^{-1}(Y)\right) &= f\left(f^{-1}(\set{c})\right)\\
    &= f(\varnothing)\\
    &= \varnothing\\
    &\neq Y
\end{align*}
\end{prooflist}

\begin{prooflist}{7. Given a function $f: A \rightarrow B$ and subsets $W, X \subseteq A$, prove $f(W \cap X) \subseteq f(W) \cap f(X)$.}
\item \imagedef{}
\begin{align*}
    b\in f(W\cap X) && \text{supposition}\\
    b\in \set{f(x): x \in W\cap X} && \text{def. of image}\\
    f(a) = b && \text{for some }a\in W\cap X\\
    a \in W \land a \in X&&\text{def. of image}\\
    f(a) \in f(W) \land f(a) \in f(X)&&\text{application of }f\\
    f(W) \cap f(X)&&\text{def. of }\cap
\end{align*}
\end{prooflist}

\begin{prooflist}{8. Given a function $f: A \rightarrow B$ and subsets $W, X \subseteq A$, then $f(W \cap X)=f(W) \cap f(X)$ is false in general. Produce a counterexample.}
\item \imagedef{}
\begin{align}
    f(W \cap X)=&f(W) \cap f(X) &&\text{false in general}\\
    f(W \cap X)\subseteq& f(W) \cap f(X) \\
    f(W) \cap f(X) \subseteq& f(W \cap X)
\end{align}
For (1) to be true, (2) and (3) must be true. We have proven (2) to be true in
the previous exercise, therefore there must be a counterexample for (3).
\item Let $A=\set{1, 2, 3, 4}$.
\item Let $B=\set{a, b, c}$.
\item Let $W\subseteq A = \set{1, 2, 3}$.
\item Let $X\subseteq A = \set{2, 3, 4}$.
\item Let $f: A \rightarrow B$.
\item Let $f = \set{(1, a), (2, b), (3, c), (4, a)}$.
\begin{align}
    f(W) \cap f(X) \subseteq& f(W \cap X)\\
    f(\set{1, 2, 3}) \cap f(\set{2, 3, 4}) \subseteq& f(\set{1, 2, 3} \cap \set{2, 3, 4})\\
    f(\set{1, 2, 3}) \cap f(\set{2, 3, 4}) \subseteq& f(\set{2, 3})\\
    \set{a, b, c} \cap \set{b, c, a} \subseteq& \set{b, c}\\
    \set{a, b, c} \not\subseteq& \set{b, c}&&\text{disproof}
\end{align}
\end{prooflist}

\begin{prooflist}{9. Given a function $f: A \rightarrow B$ and subsets $W, X
    \subseteq A$, prove $f(W \cup X)=f(W) \cup f(X)$.}
\item \imagedef{}
\setcounter{equation}{0}
\begin{align}
    f(W \cup X)=&f(W) \cup f(X)\\
    f(W \cup X)\subseteq& f(W) \cup f(X) \\
    f(W) \cup f(X) \subseteq& f(W \cup X)
\end{align}
For (1) to be true, (2) and (3) must be true. We'll start with (2).
\begin{align}
    b\in& f(W\cup X) &\text{supposition}\\
    b\in& \set{f(x): x \in W\cup X} &\text{def. of image}\\
    f(a) =& b & \text{for some }a\in W\cup X\\
    a \in W \cup& X &\text{def. of image}\\
    a \in W \lor & a \in X &\text{def. of image}\\
    f(a) \in f(W) \lor& f(a) \in f(X)&\text{application of }f\\
    f(a) \in (f(W) \cup& f(X)) &\text{def. of }\lor\\
    f(W) \cup& f(X)&\text{def. of }\in
\end{align}
Thus we have shown (2). Now we will show (3).
\begin{align}
    b\in f(W)\cup& b\in f(X) &\text{supposition}\\
    b\in \set{f(x): x \in W} \lor& b\in \set{f(x): x \in X}&\text{def. of image}\\
    f(a) =& b & \text{for some }a\in W\lor a\in X\\
    a \in& W \lor a \in X &\text{def. of image}\\
    a \in& W \cup X &\text{def. of }\cup\\
    f(a) \in& f(W\cup X)&\text{application of }f\\
            &f(W\cup X)&\text{def. of }\in
\end{align}
Thus we have shown (2) and (3) and proven that
\[
    f(W \cup X)=f(W) \cup f(X)
\]
\end{prooflist}

\begin{prooflist}{10. Given $f: A \rightarrow B$ and subsets $Y, Z \subseteq B$,
    prove $f^{-1}(Y \cap Z)=f^{-1}(Y) \cap f^{-1}(Z)$.}
\item \imagedef{}
\setcounter{equation}{0}
\begin{align}
    f^{-1}(Y \cap Z)=&f^{-1}(Y) \cap f^{-1}(Z)\\
    f^{-1}(Y \cap Z)\subseteq &f^{-1}(Y) \cap f^{-1}(Z)\\
    f^{-1}(Y) \cap f^{-1}(Z) \subseteq & f^{-1}(Y \cap Z)
\end{align}
For (1) to be true, (2) and (3) must be true. We'll start with (2).
\begin{align}
    a\in& f^{-1}(Y\cap Z) &\text{supposition}\\
    a\in& \set{x \in A: f(x) \in Y\cap Z} &\text{def. of preimage}\\
    f^{-1}(b) =& a & \text{for some }b\in Y\cap Z\\
    b \in Y \cap& Z &\text{def. of preimage}\\
    b \in Y \land & b \in Z &\text{def. of preimage}\\
    f^{-1}(b) \in f^{-1}(Y) \land& f^{-1}(b) \in f^{-1}(Z)&\text{application of }f^{-1}\\
    f^{-1}(Y) \cap & f^{-1}(Z)&\text{def. of }\cap
\end{align}
Thus we have shown (2). Now we will show (3).
\begin{align}
    a\in f^{-1}(Y) \cap& f^{-1}(Z) &\text{supposition}\\
    a\in \set{x \in A: f(x) \in Y} \land& a\in \set{x \in A: f(x) \in Z} &\text{def. of preimage}\\
    a\in \set{x \in A: f(x) &\in Y\cap Z} &\text{def. of }\cap\\
    f^{-1}(b) = a& &\text{for some }b\in Y\cap Z\\
    b \in& Y \cap Z &\text{def. of preimage}\\
    f^{-1}(b) \in& f^{-1}(Y\cap Z)&\text{application of }f^{-1}\\
    f^{-1}(Y\cap Z)&&\text{def. of }\in
\end{align}
Thus we have shown (2) and (3) and proven that
\[
    f^{-1}(Y \cap Z)=f^{-1}(Y) \cap f^{-1}(Z)
\]
\end{prooflist}

\begin{prooflist}{11. Given $f: A \rightarrow B$ and subsets $Y, Z \subseteq B$,
    prove $f^{-1}(Y \cup Z)=f^{-1}(Y) \cup f^{-1}(Z)$.}
\item \imagedef{}
\setcounter{equation}{0}
\begin{align}
    f^{-1}(Y \cup Z)=&f^{-1}(Y) \cup f^{-1}(Z)\\
    f^{-1}(Y \cup Z)\subseteq &f^{-1}(Y) \cup f^{-1}(Z)\\
    f^{-1}(Y) \cup f^{-1}(Z) \subseteq & f^{-1}(Y \cup Z)
\end{align}
For (1) to be true, (2) and (3) must be true. We'll start with (2).
\begin{align}
    a\in& f^{-1}(Y\cup Z) &\text{supposition}\\
    a\in& \set{x \in A: f(x) \in Y\cup Z} &\text{def. of preimage}\\
    f^{-1}(b) =& a & \text{for some }b\in Y\cup Z\\
    b \in Y \cup& Z &\text{def. of preimage}\\
    b \in Y \lor & b \in Z &\text{def. of }\lor \\
    f^{-1}(b) \in f^{-1}(Y) \lor& f^{-1}(b) \in f^{-1}(Z)&\text{application of }f^{-1}\\
    f^{-1}(Y) \cup & f^{-1}(Z)&\text{def. of }\cup
\end{align}
Thus we have shown (2). Now we will show (3).
\begin{align}
    a\in f^{-1}(Y) \cup& f^{-1}(Z) &\text{supposition}\\
    a\in \set{x \in A: f(x) \in Y} \lor& a\in \set{x \in A: f(x) \in Z} &\text{def. of preimage}\\
    a\in \set{x \in A: f(x) &\in Y\cup Z} &\text{def. of }\cup\\
    f^{-1}(b) = a& &\text{for some }b\in Y\cup Z\\
    b \in& Y \cup Z &\text{def. of preimage}\\
    f^{-1}(b) \in& f^{-1}(Y\cup Z)&\text{application of }f^{-1}\\
    f^{-1}(Y\cup Z)&&\text{def. of }\in
\end{align}
Thus we have shown (2) and (3) and proven that
\[
    f^{-1}(Y \cup Z)=f^{-1}(Y) \cup f^{-1}(Z)
\]
\end{prooflist}

\begin{prooflist}{12. Consider $f: A \rightarrow B$. Prove that $f$ is injective
    if and only if $X=f^{-1}(f(X))$ for all $X \subseteq A$. Prove that $f$ is
surjective if and only if $f\left(f^{-1}(Y)\right)=Y$ for all $Y \subseteq B$.}
\item \imagedef{}
\inj{}
\surj{}
\end{prooflist}

\begin{prooflist}{13. Let $f: A \rightarrow B$ be a function, and $X \subseteq
    A$. Prove or disprove: $f\left(f^{-1}(f(X))\right)=f(X)$.}
\item Probably it's false. It's using $f\circ f^{-1}$ as an identity, which
    doesn't hold unless you know $f$ is bijective, which is not provided.
\end{prooflist}

\begin{prooflist}{14. Let $f: A \rightarrow B$ be a function, and $Y \subseteq
    B$. Prove or disprove:
$f^{-1}\left(f\left(f^{-1}(Y)\right)\right)=f^{-1}(Y)$.}
\item Probably it's false. It's using $f\circ f^{-1}$ as an identity, which
    doesn't hold unless you know $f$ is bijective, which is not provided.
\item No it's true for some reason.
\end{prooflist}

\end{document}
